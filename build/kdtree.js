/*! KdAndQuadTreesDemo 2020-05-07 */
define(["geom"],function(a){function b(a,d,e){var f,g;void 0===e&&(e=0),a.length<=c||e>=d?(this.is_leaf=!0,this.points=a):(this.is_leaf=!1,this.axis=g=e%2,a.sort(function(a,b){return a[g]-b[g]}),f=Math.floor(a.length/2),this.coord=a[f-1][this.axis],this.leftorbottom=new b(a.slice(0,f),d,e+1),this.rightortop=new b(a.slice(f),d,e+1))}const c=2;return b.prototype.lines=function(a,b,c,d){var e;return void 0===a&&(c=0,a=100,d=0,b=100),this.is_leaf?[]:(0===this.axis?(e=[{points:[[this.coord,c],[this.coord,a]]}],e=e.concat(this.leftorbottom.lines(a,this.coord,c,d)),e=e.concat(this.rightortop.lines(a,b,c,this.coord))):(e=[{points:[[d,this.coord],[b,this.coord]]}],e=e.concat(this.leftorbottom.lines(this.coord,b,c,d)),e=e.concat(this.rightortop.lines(a,b,this.coord,d))),e)},b.prototype.numLeaves=function(){return this.is_leaf?1:this.leftorbottom.numLeaves()+this.rightortop.numLeaves()},b.prototype.maxLeafDepth=function(){return this.is_leaf?0:1+Math.max(this.leftorbottom.maxLeafDepth(),this.rightortop.maxLeafDepth())},b});